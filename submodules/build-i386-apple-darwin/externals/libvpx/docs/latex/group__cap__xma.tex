\hypertarget{group__cap__xma}{
\subsection{\-External \-Memory \-Allocation \-Functions}
\label{group__cap__xma}\index{\-External Memory Allocation Functions@{\-External Memory Allocation Functions}}
}
\subsubsection*{\-Data \-Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structvpx__codec__mmap}{vpx\-\_\-codec\-\_\-mmap}
\begin{DoxyCompactList}\small\item\em \-Memory \-Map \-Entry. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{\-Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structvpx__codec__mmap}{vpx\-\_\-codec\-\_\-mmap} \hyperlink{group__cap__xma_gaca7501932c5ec8a876729f661b752f07}{vpx\-\_\-codec\-\_\-mmap\-\_\-t}
\begin{DoxyCompactList}\small\item\em \-Memory \-Map \-Entry. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__codec_gada1084710837ad363b92f2379dd2b8d2}{vpx\-\_\-codec\-\_\-err\-\_\-t} \hyperlink{group__cap__xma_ga802003c8ed203def368a361fe0e92f13}{vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map} (\hyperlink{group__codec_gad03e2dfa6ae511db7d25be6bbb336233}{vpx\-\_\-codec\-\_\-ctx\-\_\-t} $\ast$ctx, \hyperlink{group__cap__xma_gaca7501932c5ec8a876729f661b752f07}{vpx\-\_\-codec\-\_\-mmap\-\_\-t} $\ast$mmap, \hyperlink{group__codec_ga6ea348f76b1f8a1fe50e14db684146c6}{vpx\-\_\-codec\-\_\-iter\-\_\-t} $\ast$iter)
\begin{DoxyCompactList}\small\item\em \-Iterate over the list of segments to allocate. \end{DoxyCompactList}\item 
\hyperlink{group__codec_gada1084710837ad363b92f2379dd2b8d2}{vpx\-\_\-codec\-\_\-err\-\_\-t} \hyperlink{group__cap__xma_gac2df376a4d76282a5c117313182dcf53}{vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map} (\hyperlink{group__codec_gad03e2dfa6ae511db7d25be6bbb336233}{vpx\-\_\-codec\-\_\-ctx\-\_\-t} $\ast$ctx, \hyperlink{group__cap__xma_gaca7501932c5ec8a876729f661b752f07}{vpx\-\_\-codec\-\_\-mmap\-\_\-t} $\ast$mmaps, unsigned int num\-\_\-maps)
\begin{DoxyCompactList}\small\item\em \-Identify allocated segments to codec instance. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{\-Detailed \-Description}
\-The following functions are required to be implemented for all codecs that advertise the \-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-C\-A\-P\-\_\-\-X\-M\-A capability. \-Calling these functions for codecs that don't advertise this capability will result in an error code being returned, usually \-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-I\-N\-C\-A\-P\-A\-B\-L\-E 

\subsubsection{\-Typedef \-Documentation}
\hypertarget{group__cap__xma_gaca7501932c5ec8a876729f661b752f07}{
\index{\-External Memory Allocation Functions@{\-External Memory Allocation Functions}!vpx\-\_\-codec\-\_\-mmap\-\_\-t@{vpx\-\_\-codec\-\_\-mmap\-\_\-t}}
\index{vpx\-\_\-codec\-\_\-mmap\-\_\-t@{vpx\-\_\-codec\-\_\-mmap\-\_\-t}!External Memory Allocation Functions@{\-External Memory Allocation Functions}}
\paragraph[{vpx\-\_\-codec\-\_\-mmap\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf vpx\-\_\-codec\-\_\-mmap}  {\bf vpx\-\_\-codec\-\_\-mmap\-\_\-t}}}
\label{group__cap__xma_gaca7501932c5ec8a876729f661b752f07}


\-Memory \-Map \-Entry. 

\-This structure is used to contain the properties of a memory segment. \-It is populated by the codec in the request phase, and by the calling application once the requested allocation has been performed. alias for struct \hyperlink{structvpx__codec__mmap}{vpx\-\_\-codec\-\_\-mmap} 

\subsubsection{\-Function \-Documentation}
\hypertarget{group__cap__xma_ga802003c8ed203def368a361fe0e92f13}{
\index{\-External Memory Allocation Functions@{\-External Memory Allocation Functions}!vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map@{vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map}}
\index{vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map@{vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map}!External Memory Allocation Functions@{\-External Memory Allocation Functions}}
\paragraph[{vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf vpx\-\_\-codec\-\_\-err\-\_\-t} vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map (
\begin{DoxyParamCaption}
\item[{{\bf vpx\-\_\-codec\-\_\-ctx\-\_\-t} $\ast$}]{ctx, }
\item[{{\bf vpx\-\_\-codec\-\_\-mmap\-\_\-t} $\ast$}]{mmap, }
\item[{{\bf vpx\-\_\-codec\-\_\-iter\-\_\-t} $\ast$}]{iter}
\end{DoxyParamCaption}
)}}
\label{group__cap__xma_ga802003c8ed203def368a361fe0e92f13}


\-Iterate over the list of segments to allocate. 

\-Iterates over a list of the segments to allocate. \-The iterator storage should be initialized to \-N\-U\-L\-L to start the iteration. \-Iteration is complete when this function returns \-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-L\-I\-S\-T\-\_\-\-E\-N\-D. \-The amount of memory needed to allocate is dependent upon the size of the encoded stream. \-In cases where the stream is not available at allocation time, a fixed size must be requested. \-The codec will not be able to operate on streams larger than the size used at allocation time.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em ctx} & \-Pointer to this instance's context. \\
\hline
\mbox{\tt out}  & {\em mmap} & \-Pointer to the memory map entry to populate. \\
\hline
\mbox{\tt in,out}  & {\em iter} & \-Iterator storage, initialized to \-N\-U\-L\-L\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{\-Return values}
{\em \hyperlink{group__codec_ggada1084710837ad363b92f2379dd2b8d2af1dcde74b1c5ff7b29f31246dfd90986}{\-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-O\-K}} & \-The memory map entry was populated. \\
\hline
{\em \hyperlink{group__codec_ggada1084710837ad363b92f2379dd2b8d2abd8a8f9c2588adab5d764d957e265135}{\-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-E\-R\-R\-O\-R}} & \-Codec does not support \-X\-M\-A mode. \\
\hline
{\em \hyperlink{group__codec_ggada1084710837ad363b92f2379dd2b8d2a96c6d2600dc0ec25c2cb798e8d2f4760}{\-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-M\-E\-M\-\_\-\-E\-R\-R\-O\-R}} & \-Unable to determine segment size from stream info. \\
\hline
\end{DoxyRetVals}
\hypertarget{group__cap__xma_gac2df376a4d76282a5c117313182dcf53}{
\index{\-External Memory Allocation Functions@{\-External Memory Allocation Functions}!vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map@{vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map}}
\index{vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map@{vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map}!External Memory Allocation Functions@{\-External Memory Allocation Functions}}
\paragraph[{vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf vpx\-\_\-codec\-\_\-err\-\_\-t} vpx\-\_\-codec\-\_\-set\-\_\-mem\-\_\-map (
\begin{DoxyParamCaption}
\item[{{\bf vpx\-\_\-codec\-\_\-ctx\-\_\-t} $\ast$}]{ctx, }
\item[{{\bf vpx\-\_\-codec\-\_\-mmap\-\_\-t} $\ast$}]{mmaps, }
\item[{unsigned int}]{num\-\_\-maps}
\end{DoxyParamCaption}
)}}
\label{group__cap__xma_gac2df376a4d76282a5c117313182dcf53}


\-Identify allocated segments to codec instance. 

\-Stores a list of allocated segments in the codec. \-Segments \hyperlink{rfc2119_MUST}{\-M\-U\-S\-T} be passed in the order they are read from \hyperlink{group__cap__xma_ga802003c8ed203def368a361fe0e92f13}{vpx\-\_\-codec\-\_\-get\-\_\-mem\-\_\-map()}, but may be passed in groups of any size. \-Segments \hyperlink{rfc2119_MUST}{\-M\-U\-S\-T} be set only once. \-The allocation function \hyperlink{rfc2119_MUST}{\-M\-U\-S\-T} ensure that the \hyperlink{structvpx__codec__mmap_a0f7580ef4f5680df53c1ef3bd5f66d01}{vpx\-\_\-codec\-\_\-mmap\-\_\-t\-::base} member is non-\/\-N\-U\-L\-L. \-If the segment requires cleanup handling (e.\-g., calling free() or close()) then the \hyperlink{structvpx__codec__mmap_a39476b4d60e41d0867e0966f09dc1e45}{vpx\-\_\-codec\-\_\-mmap\-\_\-t\-::dtor} member \hyperlink{rfc2119_MUST}{\-M\-U\-S\-T} be populated.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em ctx} & \-Pointer to this instance's context. \\
\hline
\mbox{\tt in}  & {\em mmaps} & \-Pointer to the first memory map entry in the list. \\
\hline
\mbox{\tt in}  & {\em num\-\_\-maps} & \-Number of entries being set at this time\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{\-Return values}
{\em \hyperlink{group__codec_ggada1084710837ad363b92f2379dd2b8d2af1dcde74b1c5ff7b29f31246dfd90986}{\-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-O\-K}} & \-The segment was stored in the codec context. \\
\hline
{\em \hyperlink{group__codec_ggada1084710837ad363b92f2379dd2b8d2a4470784ba5a3ef84dc0697d5489dd292}{\-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-I\-N\-C\-A\-P\-A\-B\-L\-E}} & \-Codec does not support \-X\-M\-A mode. \\
\hline
{\em \hyperlink{group__codec_ggada1084710837ad363b92f2379dd2b8d2a96c6d2600dc0ec25c2cb798e8d2f4760}{\-V\-P\-X\-\_\-\-C\-O\-D\-E\-C\-\_\-\-M\-E\-M\-\_\-\-E\-R\-R\-O\-R}} & \-Segment base address was not set, or segment was already stored. \\
\hline
\end{DoxyRetVals}
